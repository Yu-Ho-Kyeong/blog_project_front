(function(){"use strict";var t={580:function(t,e,o){var n=o(9963),a=o(3907);const s="USER_ID",i="ERROR_STATE",r="IS_AUTH";var l={setAccount(t,e){t.account={...t.account,...e}},[s](t,e){t.userId=e},[i](t,e){t.errorState=e},[r](t,e){t.isAuth=e},clearAccount(t){t.account={isLogin:!1,userId:"",userRole:"",userAccessToken:"",userRefreshToken:""}}},d=o(5121);const c=(t,e)=>{const o={userId:t,userPw:e};return d.Z.post("/api/all/login",o,{headers:{"Content-type":"application/json"}})};var m={async doLogin(t,e){try{const o=c(t,e),[n]=await Promise.all([o]);return 0===n.data.length?"notFound":(localStorage.setItem("user_access_token",n.data.user_access_token),localStorage.setItem("user_refresh_token",n.data.user_refresh_token),localStorage.setItem("user_role",n.data.user_role),localStorage.setItem("user_id",n.data.user_id),localStorage.setItem("user_no",n.data.user_no),n)}catch(o){console.error(o)}}};let u=({commit:t},e)=>{t(s,e)},h=({commit:t},e)=>{t(i,e)},g=({commit:t},e)=>{t(r,e)},p=(t,e)=>{switch(e){case"notFound":h(t,"Wrong ID or Password"),g(t,!1);break;default:u(t,e.user_id),h(t,""),g(t,!0)}};var b={async login(t,{userId:e,userPw:o}){let n=await m.doLogin(e,o);return p(t,n),t.getters.getIsAuth}},f={getUserId:t=>t.userId,getErrorState:t=>t.errorState,getIsAuth:t=>t.isAuth,loggedIn(t){return!!t.user}};const w=(0,a.MT)({state(){return{account:{id:"",user:null,token:"",isLogin:!1}}},actions:b,mutations:l,getters:f});var _=w,v=o(2201),y=o(6252);const I=t=>((0,y.dD)("data-v-caa440d8"),t=t(),(0,y.Cn)(),t),N={class:"form-signin w-100 m-auto"},C=I((()=>(0,y._)("h1",{class:"h3 mb-3 fw-normal"},"로그인",-1))),k={class:"form-floating"},D=I((()=>(0,y._)("label",{for:"userId"},"Id",-1))),x={class:"form-floating"},U=I((()=>(0,y._)("label",{for:"userPw"},"Password",-1))),B={class:"form-check text-start my-3"},$=I((()=>(0,y._)("label",{class:"form-check-label",for:"flexCheckDefault"}," 자동로그인 ",-1))),T={class:"btn-join"};function S(t,e,o,a,s,i){const r=(0,y.up)("router-link");return(0,y.wg)(),(0,y.iD)("main",N,[(0,y._)("form",null,[C,(0,y._)("div",k,[(0,y.wy)((0,y._)("input",{type:"text",class:"form-control",id:"userId",placeholder:"id를 입력해주세요",onKeyup:e[0]||(e[0]=(0,n.D2)((t=>a.submit()),["enter"])),"onUpdate:modelValue":e[1]||(e[1]=e=>t.form.userId=e)},null,544),[[n.nr,t.form.userId]]),D]),(0,y._)("div",x,[(0,y.wy)((0,y._)("input",{type:"password",class:"form-control",id:"userPw",placeholder:"password를 입력해주세요",onKeyup:e[2]||(e[2]=(0,n.D2)((t=>a.submit()),["enter"])),"onUpdate:modelValue":e[3]||(e[3]=e=>t.form.userPw=e)},null,544),[[n.nr,t.form.userPw]]),U]),(0,y._)("div",B,[(0,y._)("input",{class:"form-check-input",type:"checkbox",value:"remember-me",id:"flexCheckDefault",onKeyup:e[4]||(e[4]=(0,n.D2)((t=>a.submit()),["enter"]))},null,32),$]),(0,y._)("button",{class:"btn btn-primary w-100 py-2",onClick:e[5]||(e[5]=t=>a.submit())},"로그인"),(0,y._)("div",T,[(0,y.Uk)(" 아직 회원이 아니시면 "),(0,y.Wm)(r,{to:"/join",class:"join-a"},{default:(0,y.w5)((()=>[(0,y.Uk)("회원가입")])),_:1}),(0,y.Uk)("을 클릭해주세요. ")])])])}o(560);var P=o(2262),R={setup(){const t=(0,a.oR)(),e=(0,y.Fl)((()=>t.getters.getErrorState)),o=(0,P.qj)({form:{userId:"",userPw:""}}),n=()=>{Oa.push({name:"Home"})},s=async()=>{if(o.form.userId)if(o.form.userPw)try{let e=await t.dispatch("login",{userId:o.form.userId,userPw:o.form.userPw});e&&n()}catch(e){e.message.indexOf("Network Error")>-1?alert("서버에 접속할 수 없습니다. 상태를 확인해주세요."):alert("로그인 정보를 확인할 수 없습니다.")}else alert("password를 입력해주세요.");else alert("id를 입력해주세요.")};return{...(0,P.BK)(o),submit:s,errorState:e,goToPages:n}}},q=o(3744);const L=(0,q.Z)(R,[["render",S],["__scopeId","data-v-caa440d8"]]);var O=L;const E=t=>((0,y.dD)("data-v-04a76fe0"),t=t(),(0,y.Cn)(),t),A={class:"signup-container"},V=E((()=>(0,y._)("h1",null,"회원가입",-1))),F={class:"form-group"},z=E((()=>(0,y._)("label",{for:"userId"},"아이디",-1))),G={class:"input-with-button"},j=E((()=>(0,y._)("button",{class:"btn btn-idChk"},"중복검사",-1))),H={class:"form-group"},M=E((()=>(0,y._)("label",{for:"userPw"},"비밀번호",-1))),Z={class:"form-group"},W=E((()=>(0,y._)("label",{for:"name"},"이름",-1))),Y={class:"form-group"},K=E((()=>(0,y._)("label",{for:"name"},"한줄 소개",-1))),J={class:"button-group"},Q=E((()=>(0,y._)("button",{type:"submit",class:"btn btn-primary"},"가입하기",-1)));function X(t,e,o,a,s,i){const r=(0,y.up)("router-link");return(0,y.wg)(),(0,y.iD)("div",A,[V,(0,y._)("form",{onSubmit:e[5]||(e[5]=(0,n.iM)(((...t)=>a.submitForm&&a.submitForm(...t)),["prevent"]))},[(0,y._)("div",F,[z,(0,y._)("div",G,[(0,y.wy)((0,y._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>a.userId=t),type:"text",id:"userId",class:"form-control",required:""},null,512),[[n.nr,a.userId]]),j])]),(0,y._)("div",H,[M,(0,y.wy)((0,y._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.userPw=t),type:"password",id:"userPw",class:"form-control",required:""},null,512),[[n.nr,a.userPw]])]),(0,y._)("div",Z,[W,(0,y.wy)((0,y._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>a.name=t),type:"text",id:"name",class:"form-control",required:""},null,512),[[n.nr,a.name]])]),(0,y._)("div",Y,[K,(0,y.wy)((0,y._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>a.introduction=t),type:"text",id:"introduction",class:"form-control",required:""},null,512),[[n.nr,a.introduction]])]),(0,y._)("div",J,[(0,y._)("button",{type:"button",class:"btn btn-secondary",onClick:e[4]||(e[4]=t=>a.cancle())},"취소"),Q])],32),(0,y.Wm)(r,{to:"/login"},{default:(0,y.w5)((()=>[(0,y.Uk)("이미 계정이 있으신가요? 로그인")])),_:1})])}var tt={setup(){const t=(0,P.iH)(""),e=(0,P.iH)(""),o=(0,P.iH)(""),n=(0,P.iH)(""),a=()=>{Oa.push({path:"/"})},s=async()=>{try{const a=await d.Z.post("/api/all/signup",{name:t.value,userId:e.value,userPw:o.value,introduction:n.value});console.log(a),alert("회원가입되었습니다."),Oa.push("/login")}catch(a){console.log("회원가입 실패",a.response.data)}};return{name:t,userId:e,userPw:o,introduction:n,submitForm:s,cancle:a}}};const et=(0,q.Z)(tt,[["render",X],["__scopeId","data-v-04a76fe0"]]);var ot=et,nt=o(3577);const at=t=>((0,y.dD)("data-v-63c8bf6b"),t=t(),(0,y.Cn)(),t),st={class:"member-info1"},it={class:"thumbnail-area"},rt=["src"],lt={key:0},dt={class:"info1-area"},ct={key:0,class:"edtingInfo"},mt={key:1,class:"pre-edtingInfo"},ut={class:"member-info2"},ht={class:"info2-area-withdrawal"},gt={class:"wrapper"},pt=at((()=>(0,y._)("div",{class:"title-wrapper"},[(0,y._)("h3",null,"회원 탈퇴")],-1))),bt={class:"block-for-mobile"},ft={class:"contents"},wt=at((()=>(0,y._)("div",{class:"description"},"탈퇴 시 작성하신 포스트 및 댓글이 모두 삭제되며 복구되지 않습니다.",-1)));function _t(t,e,o,a,s,i){return(0,y.wg)(),(0,y.iD)("main",null,[(0,y._)("section",st,[(0,y._)("div",it,[(0,y._)("img",{src:this.input.imgPath,class:"userImg",alt:"profile"},null,8,rt),(0,y._)("button",{class:"btn thumbnail-upload",onClick:e[0]||(e[0]=(...t)=>i.onUploadReady&&i.onUploadReady(...t))},"이미지 업로드"),this.input.imgPath?((0,y.wg)(),(0,y.iD)("div",lt,[(0,y._)("button",{class:"btn thumbnail-remove",onClick:e[1]||(e[1]=(...e)=>t.imageDelete1&&t.imageDelete1(...e))},"이미지 제거 ")])):(0,y.kq)("",!0),this.uploadReady?((0,y.wg)(),(0,y.iD)("input",{key:1,class:"file-input",ref:"fileInput",type:"file",accept:"image/*",style:{display:"none"},onChange:e[2]||(e[2]=(...t)=>i.onUpload&&i.onUpload(...t))},null,544)):(0,y.kq)("",!0)]),(0,y._)("div",dt,[s.edtingInfo?((0,y.wg)(),(0,y.iD)("div",ct,[(0,y.wy)((0,y._)("input",{type:"text",class:"edting-name","onUpdate:modelValue":e[3]||(e[3]=t=>s.input.name=t),placeholder:"이름을 입력해주세요"},null,512),[[n.nr,s.input.name]]),(0,y.wy)((0,y._)("input",{type:"text",class:"edting-introduction","onUpdate:modelValue":e[4]||(e[4]=t=>s.input.introduction=t),placeholder:"소개글을 입력해주세요"},null,512),[[n.nr,s.input.introduction]]),(0,y._)("button",{class:"btn info-save",onClick:e[5]||(e[5]=t=>i.saveInfo(1))},"저장")])):((0,y.wg)(),(0,y.iD)("div",mt,[(0,y._)("h2",null,(0,nt.zw)(s.input.name),1),(0,y._)("p",null,(0,nt.zw)(s.input.introduction),1),(0,y._)("button",{class:"btn info-modify",onClick:e[6]||(e[6]=t=>i.modifyInfo(1))},"수정")]))])]),(0,y._)("section",ut,[(0,y._)("div",ht,[(0,y._)("div",gt,[pt,(0,y._)("div",bt,[(0,y._)("div",ft,[(0,y._)("button",{color:"red",class:"btn btn-Withdrawal",onClick:e[7]||(e[7]=(...t)=>i.signout&&i.signout(...t))},"회원 탈퇴")])])]),wt])])])}var vt={data(){return{edtingInfo:!1,edtingInfo2:!1,uploadReady:!1,userNo:localStorage.getItem("user_no"),input:{image:"",name:"",blogName:"",introduction:"",imgPath:""}}},mounted(){this.fnGetUserInfo()},methods:{onUploadReady(){this.uploadReady=!0,this.$nextTick((()=>{this.$refs.fileInput.click()}))},onUpload(){const t=this.$refs.fileInput.files[0];if(!t||!t.type.startsWith("image/"))return void alert("이미지 파일을 선택해주세요.");const e=new FileReader;e.onload=t=>{this.input.image=t.target.result},e.readAsDataURL(t),this.uploadData=new FormData,this.uploadData.append("file",t),this.uploadData.append("userNo",this.userNo),console.log("this.uploadData : "+this.uploadData.getAll("file")),this.uploadFile()},uploadFile(){const t="/api/admin/uploadImg",e={headers:{"Content-Type":"multipart/form-data"}};console.log("this.uploadData2 : "+this.uploadData.getAll("file")),this.$axios.post(t,this.uploadData,e).then((t=>{console.log("this.uploadData3 : "+this.uploadData.getAll("file")),console.log("res.data :"+t.data),this.fnGetUserInfo(),alert("업로드 완료")})).catch((t=>{t.message.indexOf("Network Error")>-1?alert("네트워크가 원활하지 않습니다.\n잠시 후 다시 시도해주세요."):t.response&&500===t.response.status&&alert("error")}))},fnGetUserInfo(){const t="/api/all/getAdminSetInfo/"+this.userNo;this.$axios.get(t).then((t=>{this.input.name=t.data.name,this.input.introduction=t.data.introduction,this.input.blogName=t.data.blogName,this.input.imgPath=t.data.imgPath,this.$store.commit("setAccount",{name:this.input.name,introduction:this.input.introduction,blogName:this.input.blogName,imgPath:this.input.imgPath})})).catch((t=>{t.message.indexOf("Network Error")>-1&&alert("네트워크가 원활하지 않습니다.\n잠시 후 다시 시도해주세요.")}))},imageDelete(){},clearImage(){this.uploadReady=!1,this.$nextTick((()=>{this.uploadReady=!0}))},modifyInfo(t){1===t?this.edtingInfo=!0:this.edtingInfo2=!0},saveInfo(t){let e="",o={};1===t?(e="/api/admin/adminUpdateInfo",o={userNo:this.userNo,name:this.input.name,introduction:this.input.introduction}):(e="/api/admin/adminUpdateBlogName",o={userNo:this.userNo,blogName:this.input.blogName}),this.$axios.post(e,o).then((()=>{this.fnGetUserInfo(),this.edtingInfo=!1,this.edtingInfo2=!1})).catch((t=>{t.message.indexOf("Network Error")>-1?alert("네트워크가 원활하지 않습니다.\n잠시 후 다시 시도해주세요."):t.response&&500===t.response.status?alert("error"):t.response&&403===t.response.status&&alert("권한이 없습니다. 관리자에게 문의해주세요")}))},signout(){this.$router.push({name:"SignOut"})}}};const yt=(0,q.Z)(vt,[["render",_t],["__scopeId","data-v-63c8bf6b"]]);var It=yt;const Nt=t=>((0,y.dD)("data-v-2916cae6"),t=t(),(0,y.Cn)(),t),Ct={class:"member-info1"},kt={class:"thumbnail-area"},Dt=["src"],xt={key:0},Ut={class:"info1-area"},Bt={key:0,class:"edtingInfo"},$t={key:1,class:"pre-edtingInfo"},Tt={class:"member-info2"},St={class:"info2-area-title"},Pt={class:"wrapper"},Rt=Nt((()=>(0,y._)("div",{class:"title-wrapper"},[(0,y._)("h3",null,"블로그 제목")],-1))),qt={key:0,class:"edting"},Lt={key:1,class:"block-for-mobile"},Ot={class:"contents"},Et={class:"edit-wrapper"},At=Nt((()=>(0,y._)("div",{class:"description"},"개인 페이지의 좌측 상단에 나타나는 페이지 제목입니다.",-1))),Vt={class:"info2-area-withdrawal"},Ft={class:"wrapper"},zt=Nt((()=>(0,y._)("div",{class:"title-wrapper"},[(0,y._)("h3",null,"회원 탈퇴")],-1))),Gt={class:"block-for-mobile"},jt={class:"contents"},Ht=Nt((()=>(0,y._)("div",{class:"description"},"탈퇴 시 작성하신 포스트 및 댓글이 모두 삭제되며 복구되지 않습니다.",-1)));function Mt(t,e,o,a,s,i){return(0,y.wg)(),(0,y.iD)("main",null,[(0,y._)("section",Ct,[(0,y._)("div",kt,[(0,y._)("img",{src:this.input.imgPath,class:"userImg",alt:"profile"},null,8,Dt),(0,y._)("button",{class:"btn thumbnail-upload",onClick:e[0]||(e[0]=(...t)=>i.onUploadReady&&i.onUploadReady(...t))},"이미지 업로드"),this.input.imgPath?((0,y.wg)(),(0,y.iD)("div",xt,[(0,y._)("button",{class:"btn thumbnail-remove",onClick:e[1]||(e[1]=(...e)=>t.imageDelete1&&t.imageDelete1(...e))},"이미지 제거 ")])):(0,y.kq)("",!0),this.uploadReady?((0,y.wg)(),(0,y.iD)("input",{key:1,class:"file-input",ref:"fileInput",type:"file",accept:"image/*",style:{display:"none"},onChange:e[2]||(e[2]=(...t)=>i.onUpload&&i.onUpload(...t))},null,544)):(0,y.kq)("",!0)]),(0,y._)("div",Ut,[s.edtingInfo?((0,y.wg)(),(0,y.iD)("div",Bt,[(0,y.wy)((0,y._)("input",{type:"text",class:"edting-name","onUpdate:modelValue":e[3]||(e[3]=t=>s.input.name=t),placeholder:"이름을 입력해주세요"},null,512),[[n.nr,s.input.name]]),(0,y.wy)((0,y._)("input",{type:"text",class:"edting-introduction","onUpdate:modelValue":e[4]||(e[4]=t=>s.input.introduction=t),placeholder:"소개글을 입력해주세요"},null,512),[[n.nr,s.input.introduction]]),(0,y._)("button",{class:"btn info-save",onClick:e[5]||(e[5]=t=>i.saveInfo(1))},"저장")])):((0,y.wg)(),(0,y.iD)("div",$t,[(0,y._)("h2",null,(0,nt.zw)(s.input.name),1),(0,y._)("p",null,(0,nt.zw)(s.input.introduction),1),(0,y._)("button",{class:"btn info-modify",onClick:e[6]||(e[6]=t=>i.modifyInfo(1))},"수정")]))])]),(0,y._)("section",Tt,[(0,y._)("div",St,[(0,y._)("div",Pt,[Rt,s.edtingInfo2?((0,y.wg)(),(0,y.iD)("div",qt,[(0,y.wy)((0,y._)("input",{type:"text",class:"edting-name","onUpdate:modelValue":e[7]||(e[7]=t=>s.input.blogName=t),placeholder:"블로그 제목"},null,512),[[n.nr,s.input.blogName]]),(0,y._)("button",{class:"btn info-save",onClick:e[8]||(e[8]=t=>i.saveInfo(2))},"저장")])):((0,y.wg)(),(0,y.iD)("div",Lt,[(0,y._)("div",Ot,(0,nt.zw)(s.input.blogName),1),(0,y._)("div",Et,[(0,y._)("button",{class:"btn title-modify",onClick:e[9]||(e[9]=t=>i.modifyInfo(2))},"수정")])]))]),At]),(0,y._)("div",Vt,[(0,y._)("div",Ft,[zt,(0,y._)("div",Gt,[(0,y._)("div",jt,[(0,y._)("button",{color:"red",class:"btn btn-Withdrawal",onClick:e[10]||(e[10]=(...t)=>i.signout&&i.signout(...t))},"회원 탈퇴")])])]),Ht])])])}var Zt={data(){return{edtingInfo:!1,edtingInfo2:!1,uploadReady:!1,userNo:localStorage.getItem("user_no"),input:{image:"",name:"",blogName:"",introduction:"",imgPath:""}}},mounted(){this.fnGetUserInfo()},methods:{onUploadReady(){this.uploadReady=!0,this.$nextTick((()=>{this.$refs.fileInput.click()}))},onUpload(){const t=this.$refs.fileInput.files[0];if(!t||!t.type.startsWith("image/"))return void alert("이미지 파일을 선택해주세요.");const e=new FileReader;e.onload=t=>{this.input.image=t.target.result},e.readAsDataURL(t),this.uploadData=new FormData,this.uploadData.append("file",t),this.uploadData.append("userNo",this.userNo),this.uploadFile()},uploadFile(){const t="/api/admin/uploadImg",e={headers:{"Content-Type":"multipart/form-data"}};this.$axios.post(t,this.uploadData,e).then((()=>{this.fnGetUserInfo(),alert("업로드 완료")})).catch((t=>{t.message.indexOf("Network Error")>-1?alert("네트워크가 원활하지 않습니다.\n잠시 후 다시 시도해주세요."):t.response&&500===t.response.status&&alert("error")}))},fnGetUserInfo(){const t="/api/all/getAdminSetInfo/"+this.userNo;this.$axios.get(t).then((t=>{this.input.name=t.data.name,this.input.introduction=t.data.introduction,this.input.blogName=t.data.blogName,this.input.imgPath=t.data.imgPath,this.$store.commit("setAccount",{name:this.input.name,introduction:this.input.introduction,blogName:this.input.blogName,imgPath:this.input.imgPath})})).catch((t=>{t.message.indexOf("Network Error")>-1&&alert("네트워크가 원활하지 않습니다.\n잠시 후 다시 시도해주세요.")}))},modifyInfo(t){1===t?this.edtingInfo=!0:this.edtingInfo2=!0},saveInfo(t){let e="",o={};1===t?(e="/api/admin/adminUpdateInfo",o={userNo:this.userNo,name:this.input.name,introduction:this.input.introduction}):(e="/api/admin/adminUpdateBlogName",o={userNo:this.userNo,blogName:this.input.blogName}),this.$axios.post(e,o).then((()=>{this.fnGetUserInfo(),this.edtingInfo=!1,this.edtingInfo2=!1})).catch((t=>{t.message.indexOf("Network Error")>-1&&alert("네트워크가 원활하지 않습니다.\n잠시 후 다시 시도해주세요.")}))},signout(){this.$router.push({name:"SignOut"})}}};const Wt=(0,q.Z)(Zt,[["render",Mt],["__scopeId","data-v-2916cae6"]]);var Yt=Wt;const Kt=t=>((0,y.dD)("data-v-36be1f5f"),t=t(),(0,y.Cn)(),t),Jt={class:"home"},Qt={class:"py-1 text-center container"},Xt={class:"row py-lg-5"},te={class:"col-lg-6 col-md-8 mx-auto"},ee={key:0,class:"profile-pic",href:""},oe=["src"],ne={key:1,class:"profile-pic",href:""},ae=["src"],se={class:"blogName"},ie={class:"lead text-body-secondary"},re=Kt((()=>(0,y._)("div",null,null,-1))),le=Kt((()=>(0,y._)("a",{href:"#",class:"btn btn-secondary my-2"},"시리즈",-1))),de={class:"home-tab"},ce={key:0,class:""},me={key:1,class:""},ue={key:0,class:"main-tag"},he=Kt((()=>(0,y._)("div",{class:"main-tag-name"},"태그 목록",-1))),ge={class:"for_tag"};function pe(t,e,o,n,a,s){const i=(0,y.up)("BoardList"),r=(0,y.up)("Introduce"),l=(0,y.up)("TagList");return(0,y.wg)(),(0,y.iD)("div",Jt,[(0,y._)("section",Qt,[(0,y._)("div",Xt,[(0,y._)("div",te,[""!==this.input.imgPath?((0,y.wg)(),(0,y.iD)("a",ee,[(0,y._)("img",{src:this.input.imgPath,alt:"profile"},null,8,oe)])):((0,y.wg)(),(0,y.iD)("a",ne,[(0,y._)("img",{src:"/img/profile/defaultProfile.png",alt:"profile"},null,8,ae)])),(0,y._)("h1",se,(0,nt.zw)(a.input.name),1),(0,y._)("p",ie,(0,nt.zw)(a.input.introduction),1),re,(0,y._)("p",null,[(0,y._)("a",{href:"#",onClick:e[0]||(e[0]=t=>s.movePage("board-list")),class:"btn btn-primary my-2"},"게시글"),le,(0,y._)("a",{href:"#",onClick:e[1]||(e[1]=t=>s.movePage("introduce")),class:"btn btn-secondary my-2"},"소개")])]),(0,y._)("div",de,["board-list"===this.currentPage?((0,y.wg)(),(0,y.iD)("div",ce,[(0,y.Wm)(i,{boardListData:a.state.boardListData,ref:"boardListRef"},null,8,["boardListData"])])):"introduce"===this.currentPage?((0,y.wg)(),(0,y.iD)("div",me,[(0,y.Wm)(r)])):(0,y.kq)("",!0)])])]),"board-list"===this.currentPage&&a.state.tagItems?((0,y.wg)(),(0,y.iD)("aside",ue,[he,(0,y._)("ul",ge,[((0,y.wg)(!0),(0,y.iD)(y.HY,null,(0,y.Ko)(a.state.tagItems,((t,e)=>((0,y.wg)(),(0,y.j4)(l,{key:e,titem:t,onClick:e=>s.fnGetListByTag(`${t[0]}`)},null,8,["titem","onClick"])))),128))])])):(0,y.kq)("",!0)])}const be={class:"container"},fe={key:0,class:"row row-cols-1 g-3 con_wrap"};function we(t,e,o,n,a,s){const i=(0,y.up)("Board");return(0,y.wg)(),(0,y.iD)("div",be,[((0,y.wg)(),(0,y.iD)("div",fe,[((0,y.wg)(!0),(0,y.iD)(y.HY,null,(0,y.Ko)(a.visibleBoardItems,((t,e)=>((0,y.wg)(),(0,y.iD)("div",{class:"col",key:e},[t?((0,y.wg)(),(0,y.j4)(i,{key:0,bitem:t},null,8,["bitem"])):(0,y.kq)("",!0)])))),128))])),a.showLoadMoreButton?((0,y.wg)(),(0,y.iD)("button",{key:1,onClick:e[0]||(e[0]=(...t)=>s.loadMore&&s.loadMore(...t)),class:"btn btn-primary mt-3"},"더 보기")):(0,y.kq)("",!0)])}const _e={class:"col"},ve={key:0},ye=["src"],Ie={class:"card-body"},Ne={class:"card-text boardTitle"},Ce={class:"card-text boardContent"},ke={key:0,class:"tagName-wrap"},De={class:"tagName"},xe={class:"d-flex justify-content-between align-items-center"},Ue={key:0,class:"new badge bg-danger"},Be={key:1,class:"text-body-secondary"},$e={class:"card-text commentCnt"};function Te(t,e,o,n,a,s){return(0,y.wg)(),(0,y.iD)("div",_e,[(0,y._)("div",{class:"card shadow-sm",onClick:e[0]||(e[0]=t=>s.fnView(`${o.bitem.board.boardNo}`))},[null!==o.bitem.imgs?((0,y.wg)(),(0,y.iD)("div",ve,[((0,y.wg)(!0),(0,y.iD)(y.HY,null,(0,y.Ko)(o.bitem.imgs,((t,e)=>((0,y.wg)(),(0,y.iD)("div",{key:t.boardImgNo},[0===e?((0,y.wg)(),(0,y.iD)("img",{key:0,src:t.imgPath,alt:"썸네일",class:"board-list-img"},null,8,ye)):(0,y.kq)("",!0)])))),128))])):(0,y.kq)("",!0),(0,y._)("div",Ie,[(0,y._)("p",Ne,(0,nt.zw)(o.bitem.board.boardTitle),1),(0,y._)("p",Ce,(0,nt.zw)(s.truncateContent(s.getPlainText(o.bitem.board.boardContent),150)),1),null!==o.bitem.tags?((0,y.wg)(),(0,y.iD)("div",ke,[((0,y.wg)(!0),(0,y.iD)(y.HY,null,(0,y.Ko)(o.bitem.tags,(t=>((0,y.wg)(),(0,y.iD)("div",{key:t.tagNo},[(0,y._)("p",De,(0,nt.zw)(t.tagName),1)])))),128))])):(0,y.kq)("",!0),(0,y._)("div",xe,[s.formatRegDate(o.bitem.board.regDate)==a.currentDate?((0,y.wg)(),(0,y.iD)("span",Ue,"new")):((0,y.wg)(),(0,y.iD)("small",Be,(0,nt.zw)(s.formatRelativeDate(o.bitem.board.regDate)),1)),(0,y._)("p",$e,(0,nt.zw)(a.commentCnt)+"개의 댓글",1)])])])])}var Se=o(8780),Pe=o(9642),Re={name:"Board",props:{bitem:Object},data(){return{currentDate:"",commentCnt:0,requestBody:{}}},mounted(){this.setCurrentDate(),this.fnGetCnt()},methods:{getPlainText(t){const e=document.createElement("div");return e.innerHTML=t,e.innerText.trim()},formatRegDate(t){if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return"";const o=e.toISOString().split("T")[0];return o},formatRelativeDate(t){if(!t)return"";const e=new Date(t);return isNaN(e.getTime())?"":(0,Se.Q)(e,{addSuffix:!0,locale:Pe.Z})},setCurrentDate(){const t=new Date,e=t.getFullYear(),o=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");this.currentDate=`${e}-${o}-${n}`},fnView(t){this.requestBody.boardNo=t,console.log("this.requestBody : "+JSON.stringify(this.requestBody)),this.$router.push({name:"BoardDetail",query:this.requestBody})},truncateContent(t,e){return t?t.length<=e?t:t.slice(0,e)+"...":""},fnGetCnt(){const t=this.bitem.board.boardNo,e=this.$commentUrl+"/all/getCount/"+t;this.$axios.get(e).then((t=>{this.commentCnt=t.data})).catch((t=>{t.message.indexOf("Network Error")>-1&&alert("네트워크가 원활하지 않습니다.\n잠시 후 다시 시도해주세요.")}))}}};const qe=(0,q.Z)(Re,[["render",Te],["__scopeId","data-v-dc19ae9e"]]);var Le=qe,Oe={components:{Board:Le},name:"Home",props:["boardListData"],data(){return{state:{boardItems:[],boardByTagItems:[]},paging:{page:0,pageSize:10,totalItems:0},visibleBoardItems:[],showLoadMoreButton:!1}},mounted(){this.fetchBoardItems()},methods:{fetchBoardItems(t){const e={page:this.paging.page,size:this.paging.pageSize};if(console.log("params : "+JSON.stringify(e)),t&&t.tagName){const o=t.tagName;console.log("tagName : "+o),this.$axios.get(this.$boardUrl+"/all/getBoardsWithTag/"+o,{params:e}).then((t=>{this.state.boardByTagItems=[...this.state.boardByTagItems,...t.data.content],this.paging.totalItems=t.data.totalElements,this.updateVisibleBoardItems()})).catch((t=>{console.error("Board API 호출 중 에러 발생:",t)}))}else this.$axios.get(this.$boardUrl+"/all/getBoards",{params:e}).then((t=>{this.state.boardItems=[...this.state.boardItems,...t.data.content],console.log("this.state.boardItems"+this.state.boardItems),this.paging.totalItems=t.data.totalElements,this.updateVisibleBoardItems()})).catch((t=>{console.error("Board API 호출 중 에러 발생:",t)}))},updateVisibleBoardItems(){const t=0,e=10*(this.paging.page+1),o=this.paging.totalItems;this.boardListData&&this.boardListData.tagName?this.visibleBoardItems=this.state.boardByTagItems.slice(t,e):this.visibleBoardItems=this.state.boardItems.slice(t,e),o>e&&(this.showLoadMoreButton=!0)},loadMore(){if(this.paging.page++,10*this.paging.page>this.paging.totalItems)return alert("더이상 게시글이 없습니다."),!1;this.boardListData&&this.boardListData.tagName?this.fetchBoardItems(this.boardListData):this.fetchBoardItems()}}};const Ee=(0,q.Z)(Oe,[["render",we],["__scopeId","data-v-89cadbc2"]]);var Ae=Ee;const Ve=t=>((0,y.dD)("data-v-0165b1a4"),t=t(),(0,y.Cn)(),t),Fe={class:"container"},ze={class:"row row-cols-1 g-3 con_wrap"},Ge={key:0,class:"introduce_container"},je=Ve((()=>(0,y._)("img",{src:"/img/img6.png",class:"intro-image"},null,-1))),He=Ve((()=>(0,y._)("div",{class:"introduce_message"},"소개가 작성되지 않았습니다.",-1))),Me={class:"btn-container"},Ze={key:1,class:"introduce_div"},We={key:0},Ye={class:"btn_introduce"},Ke={class:"added_introduce"},Je={key:1},Qe={class:"introduce_textera"};function Xe(t,e,o,a,s,i){return(0,y.wg)(),(0,y.iD)("div",Fe,[(0,y._)("div",ze,["introduce"===s.currentPage?((0,y.wg)(),(0,y.iD)("div",Ge,[je,He,(0,y._)("div",Me,[(0,y._)("button",{onClick:e[0]||(e[0]=t=>i.movePage("add_introduce")),class:"btn_add_introduction"},"소개글 작성하기")])])):"add_introduce"===s.currentPage?((0,y.wg)(),(0,y.iD)("div",Ze,[0==s.buttonType?((0,y.wg)(),(0,y.iD)("div",We,[(0,y._)("div",Ye,["ROLE_ADMIN"===this.$store.state.account.userRole?((0,y.wg)(),(0,y.iD)("button",{key:0,class:"btn_introduce_save",onClick:e[1]||(e[1]=(...t)=>i.btnType&&i.btnType(...t))},"수정하기")):(0,y.kq)("",!0),(0,y._)("div",Ke,(0,nt.zw)(this.intro),1)])])):((0,y.wg)(),(0,y.iD)("div",Je,[(0,y._)("button",{class:"btn_introduce_save",onClick:e[2]||(e[2]=(...t)=>i.updateIntro&&i.updateIntro(...t))},"저장하기"),(0,y._)("div",Qe,[(0,y.wy)((0,y._)("textarea",{"onUpdate:modelValue":e[3]||(e[3]=t=>s.intro=t),class:"textera",placeholder:"당신을 소개해주세요."},null,512),[[n.nr,s.intro]])])]))])):(0,y.kq)("",!0)])])}var to={data(){return{requestBody:{},currentPage:"",userNo:0,intro:"",buttonType:0}},mounted(){"undefined"!==this.userNo&&this.fnGetIntro()},methods:{movePage(t){this.currentPage=t},fnGetIntro(){this.$axios.get("/api/all/getIntro/24").then((t=>{this.intro=t.data,this.userNo=24,null==this.intro||""==this.intro?(this.movePage("introduce"),this.buttonType=1):this.movePage("add_introduce")})).catch((t=>{t.message.indexOf("Network Error")>-1&&alert("네트워크가 원활하지 않습니다.\n잠시 후 다시 시도해주세요.")}))},updateIntro(){const t={introduction:this.intro,userNo:this.userNo};this.$axios.post("/api/admin/updateIntro",t,{headers:{"Content-Type":"application/json"}}).then((t=>{this.intro=t.data})).catch((t=>{console.log(t)})),this.btnType(),this.fnGetIntro()},btnType(){0==this.buttonType?this.buttonType=1:this.buttonType=0}}};const eo=(0,q.Z)(to,[["render",Xe],["__scopeId","data-v-0165b1a4"]]);var oo=eo;const no={class:"tag-name"},ao={class:"each-tag"},so={class:"each-tag-cnt"};function io(t,e,o,n,a,s){return(0,y.wg)(),(0,y.iD)("div",null,[(0,y._)("li",no,[(0,y._)("a",ao,[(0,y.Uk)((0,nt.zw)(o.titem[0])+" ",1),(0,y._)("span",so,"("+(0,nt.zw)(o.titem[1])+")",1)])])])}var ro={name:"Tag",props:{titem:Object}};const lo=(0,q.Z)(ro,[["render",io],["__scopeId","data-v-3754f27d"]]);var co=lo,mo={components:{BoardList:Ae,Introduce:oo,TagList:co},data(){return{state:{tagItems:[],boardListData:{}},input:{introduction:"",blogName:"",imgPath:"",name:""},currentPage:"board-list",allCnt:0}},mounted(){this.fetchTags(),this.fnAllTagCnt(),this.fnGetUserInfo()},methods:{initializeObject(){this.state.boardListData={},console.log("초기화 완료")},movePage(t){"board-list"===t?"board-list"===this.currentPage?(this.initializeObject(),this.$refs.boardListRef.fetchBoardItems(this.state.boardListData)):this.currentPage="board-list":"introduce"===t&&(this.currentPage="introduce")},fetchTags(){this.$axios.get("/api/tag/all/getTag").then((t=>{this.state.tagItems=t.data})).catch((t=>{console.error("Tag API 호출 중 에러 발생:",t)}))},fnGetListByTag(t){this.state.boardListData.tagName=t,this.$refs.boardListRef.state.boardByTagItems=[],this.$refs.boardListRef.fetchBoardItems(this.state.boardListData)},fnAllTagCnt(){this.$axios.get("/api/tag/all/allTagCnt").then((t=>{this.allCnt=t.data})).catch((t=>{console.error("Tag API 호출 중 에러 발생:",t)}))},fnGetUserInfo(){const t="/api/all/getAdminSetInfo/24";this.$axios.get(t).then((t=>{this.input.name=t.data.name,this.input.introduction=t.data.introduction,this.input.blogName=t.data.blogName,this.input.imgPath=t.data.imgPath})).catch((t=>{t.message.indexOf("Network Error")>-1&&alert("네트워크가 원활하지 않습니다.\n잠시 후 다시 시도해주세요.")}))}}};const uo=(0,q.Z)(mo,[["render",pe],["__scopeId","data-v-36be1f5f"]]);var ho=uo;const go={class:"comment-container"},po={class:"comment-wrapper"},bo={class:"comment-write"},fo={class:"registered-comment"},wo={class:"comment-profile"},_o=["src"],vo={class:"comment-info"},yo={class:"userId"},Io={class:"regDate"},No={class:"common-buttons"},Co=["onClick"],ko=["onClick"],Do=["onClick"],xo={class:"btn-output-section"},Uo={key:0,class:"comment-content"},Bo={key:1,class:"comment-modify"},$o=["onClick"],To=["onClick"],So=["onUpdate:modelValue"],Po={key:2,class:"recomment-register"},Ro={class:"recomment"};function qo(t,e,o,a,s,i){const r=(0,y.up)("CommentWrite"),l=(0,y.up)("ReComment");return(0,y.wg)(),(0,y.iD)("div",go,[(0,y._)("div",po,[(0,y._)("h5",null,(0,nt.zw)(s.commentCount)+" 개의 댓글",1),(0,y._)("div",bo,[(0,y.Wm)(r,{parentBoardNo:this.boardNo,parentUserNo:this.userNo,onCommentSubmitted:i.handleCommentSubmitted},null,8,["parentBoardNo","parentUserNo","onCommentSubmitted"])]),((0,y.wg)(!0),(0,y.iD)(y.HY,null,(0,y.Ko)(s.commentItems,((t,e)=>((0,y.wg)(),(0,y.iD)("div",{class:"registered-comment-wrapper",key:e},[(0,y._)("div",fo,[(0,y._)("div",wo,[(0,y._)("img",{src:t.user.imgPath,alt:"comment-user-profile"},null,8,_o),(0,y._)("div",vo,[(0,y._)("div",yo,(0,nt.zw)(t.user.name),1),(0,y._)("div",Io,(0,nt.zw)(i.formatRegDate(t.regDate)),1)])]),(0,y._)("div",No,[(0,y._)("button",{type:"button",onClick:o=>i.changeDiv(2,e,t)},"답글",8,Co),t.user.userId===this.$store.state.account.userId?((0,y.wg)(),(0,y.iD)("button",{key:0,type:"button",onClick:t=>i.changeDiv(1,e)},"수정",8,ko)):(0,y.kq)("",!0),t.user.userId===this.$store.state.account.userId?((0,y.wg)(),(0,y.iD)("button",{key:1,type:"button",onClick:e=>i.fnDelete(t)},"삭제",8,Do)):(0,y.kq)("",!0)]),(0,y._)("div",xo,["comment-content"==s.commentItems[e].divType?((0,y.wg)(),(0,y.iD)("div",Uo,[(0,y._)("p",null,(0,nt.zw)(t.commentContent),1)])):"comment-modify"==s.commentItems[e].divType?((0,y.wg)(),(0,y.iD)("div",Bo,[(0,y._)("button",{class:"btn_comment_cancle",onClick:t=>i.changeDiv(3,e)},"취소",8,$o),(0,y._)("button",{class:"btn_comment_modify",onClick:e=>i.fnUpdate(t)},"수정하기",8,To),(0,y.wy)((0,y._)("textarea",{"onUpdate:modelValue":e=>t.commentContent=e,class:"comment-modify-input"},null,8,So),[[n.nr,t.commentContent]])])):((0,y.wg)(),(0,y.iD)("div",Po,[(0,y._)("p",null,(0,nt.zw)(t.commentContent),1),(0,y.Wm)(r,{parentBoardNo:this.boardNo,parentUserNo:this.userNo,parentCommentNo:this.commentNo,onCommentSubmitted:i.handleCommentSubmitted},null,8,["parentBoardNo","parentUserNo","parentCommentNo","onCommentSubmitted"])]))]),(0,y._)("div",Ro,[(0,y.Wm)(l,{cItem:t,parentBoardNo:this.boardNo,parentUserNo:this.userNo,onCommentSubmitted:i.handleCommentSubmitted},null,8,["cItem","parentBoardNo","parentUserNo","onCommentSubmitted"])])])])))),128))])])}const Lo={class:"recomment_form"},Oo={class:"comment-button"},Eo={key:0,class:"registered-recomment-wrapper"},Ao={class:"comment-profile"},Vo=["src"],Fo={class:"comment-info"},zo={class:"userId"},Go={class:"regDate"},jo={class:"common-buttons"},Ho=["onClick"],Mo=["onClick"],Zo=["onClick"],Wo={class:"btn-output-section"},Yo={key:0,class:"comment-content"},Ko={key:1,class:"comment-modify"},Jo=["onClick"],Qo=["onClick"],Xo=["onUpdate:modelValue"],tn={key:2,class:"recomment-register"};function en(t,e,o,a,s,i){const r=(0,y.up)("CommentWrite"),l=(0,y.up)("ReComment",!0);return(0,y.wg)(),(0,y.iD)("div",Lo,[(0,y._)("div",Oo,[(0,y._)("a",{onClick:e[0]||(e[0]=(...t)=>i.showRecomment&&i.showRecomment(...t))},(0,nt.zw)(s.recommmentCount)+"개의 답글",1)]),s.showReplyForm&&o.cItem&&o.cItem.children?((0,y.wg)(),(0,y.iD)("div",Eo,[((0,y.wg)(!0),(0,y.iD)(y.HY,null,(0,y.Ko)(o.cItem.children,((t,e)=>((0,y.wg)(),(0,y.iD)("div",{class:"registered-recomment",key:e},[(0,y._)("div",Ao,[(0,y._)("img",{src:t.user.imgPath,alt:"comment-user-profile"},null,8,Vo),(0,y._)("div",Fo,[(0,y._)("div",zo,(0,nt.zw)(t.user.name),1),(0,y._)("div",Go,(0,nt.zw)(i.formatRegDate(t.regDate)),1)])]),(0,y._)("div",jo,[(0,y._)("button",{type:"button",onClick:o=>i.changeDiv(2,e,t)},"답글",8,Ho),t.user.userId===this.$store.state.account.userId?((0,y.wg)(),(0,y.iD)("button",{key:0,type:"button",onClick:t=>i.changeDiv(1,e)},"수정",8,Mo)):(0,y.kq)("",!0),t.user.userId===this.$store.state.account.userId?((0,y.wg)(),(0,y.iD)("button",{key:1,type:"button",onClick:e=>i.fnDelete(t)},"삭제",8,Zo)):(0,y.kq)("",!0)]),(0,y._)("div",Wo,["comment-content"==s.updatedReComments[e].divType?((0,y.wg)(),(0,y.iD)("div",Yo,[(0,y._)("p",null,(0,nt.zw)(t.commentContent),1)])):"comment-modify"==s.updatedReComments[e].divType?((0,y.wg)(),(0,y.iD)("div",Ko,[(0,y._)("button",{class:"btn_comment_cancle",onClick:t=>i.changeDiv(3,e)},"취소",8,Jo),(0,y._)("button",{class:"btn_comment_modify",onClick:e=>i.fnUpdate(t)},"수정하기",8,Qo),(0,y.wy)((0,y._)("textarea",{"onUpdate:modelValue":e=>t.commentContent=e,class:"comment-modify-input"},null,8,Xo),[[n.nr,t.commentContent]])])):((0,y.wg)(),(0,y.iD)("div",tn,[(0,y._)("p",null,(0,nt.zw)(t.commentContent),1),(0,y.Wm)(r,{parentBoardNo:this.parentBoardNo,parentUserNo:this.parentUserNo,parentCommentNo:this.commentNo,onCommentSubmitted:i.handleCommentSubmitted},null,8,["parentBoardNo","parentUserNo","parentCommentNo","onCommentSubmitted"])]))]),((0,y.wg)(),(0,y.j4)(l,{key:0,cItem:t,parentBoardNo:this.parentBoardNo,parentUserNo:this.parentUserNo,onCommentSubmitted:i.handleCommentSubmitted},null,8,["cItem","parentBoardNo","parentUserNo","onCommentSubmitted"]))])))),128))])):(0,y.kq)("",!0)])}const on={class:"buttons-wrapper"};function nn(t,e,o,a,s,i){return(0,y.wg)(),(0,y.iD)("div",null,[(0,y.wy)((0,y._)("textarea",{placeholder:"댓글을 작성하세요",class:"comment-write-input",style:{height:"70px"},"onUpdate:modelValue":e[0]||(e[0]=t=>s.commentContent=t)},"\r\n        ",512),[[n.nr,s.commentContent]]),(0,y._)("div",on,[(0,y._)("button",{class:"btn btn-comment-write",onClick:e[1]||(e[1]=(...t)=>i.writeComment&&i.writeComment(...t))},"댓글 작성")])])}var an={props:{parentBoardNo:Object,parentUserNo:Object,parentCommentNo:Object},data(){return{commentUserId:localStorage.getItem("user_id"),commentContent:""}},methods:{writeComment(){if(!this.commentContent.trim())return void alert("댓글 내용을 입력해주세요.");this.$store.state.account.isLogin||(alert("댓글을 작성하시려면 로그인해주세요."),this.$router.push({name:"Login"}));const t=this.$commentUrl+"/user/addComment/"+this.parentBoardNo,e={boardNo:this.parentBoardNo,userNo:this.parentUserNo,commentContent:this.commentContent,parentCommentNo:this.parentCommentNo};console.log("전송 데이터:",e),this.$axios.post(t,e).then((()=>{alert("댓글이 저장되었습니다."),this.$emit("comment-submitted",e)})).catch((t=>{t.message.indexOf("Network Error")>-1?alert("네트워크가 원활하지 않습니다.\n잠시 후 다시 시도해주세요."):t.response&&500===t.response.status&&alert("error")})),this.commentContent=""}}};const sn=(0,q.Z)(an,[["render",nn],["__scopeId","data-v-e5cc4c4c"]]);var rn=sn,ln={components:{CommentWrite:rn},props:{cItem:{type:Object,required:!0},parentBoardNo:{type:Object,required:!0},parentUserNo:{type:Object,required:!0}},data(){return{state:{commentUpdateItem:[]},recommmentCount:0,showReplyForm:!1,showSaveBool:!1,updatedReComments:[],reCommentUserId:localStorage.getItem("user_id")}},mounted(){this.fnGetCnt(),this.cItem.children.forEach((t=>{t.id.length})),this.updatedReComments=this.cItem.children.map((t=>({...t,divType:"comment-content"})))},methods:{showRecomment(){0!==this.recommmentCount&&(this.showReplyForm=!this.showReplyForm)},showSave(){this.showSaveBool=!this.showSaveBool,this.showReplyForm=!this.showReplyForm},cancelReply(){this.showReplyForm=!1},fnUpdate(t){this.commentUpdateItem=[],this.commentUpdateItem.commentNo=t.id,this.commentUpdateItem.commentContent=t.commentContent;const e=this.$commentUrl+"/user/modifyComment/"+this.commentUpdateItem.commentNo;console.log("content : "+this.commentUpdateItem.commentContent),this.$axios.put(e,{commentContent:this.commentUpdateItem.commentContent},{Headers:{"Content-Type":"application/json"}}).then((()=>{const e=this.cItem.children.indexOf(t);this.updatedReComments[e].divType="comment-content"})).catch((t=>{t.message.indexOf("Network Error")>-1&&alert("네트워크가 원활하지 않습니다.\n잠시 후 다시 시도해주세요.")}))},formatRegDate(t){const e=new Date(t).toISOString().split("T")[0];return e},changeDiv(t,e,o){let n="";1===t?n="comment-modify":2===t?(n="comment-write"===this.updatedReComments[e].divType?"comment-content":"comment-write",o&&(this.commentNo=o.id,console.log("클릭한 부모댓글의 commentNo : "+this.commentNo))):n="comment-content",this.updatedReComments[e].divType=n,console.log("this.updatedReComments[index].divType : "+this.updatedReComments[e].divType)},fnGetCnt(){this.cItem.children&&this.cItem.children.forEach((t=>{const e=t.parent.id,o=t.boardNo;this.$axios.get(this.$commentUrl+"/all/getReCount/"+o+"/"+e).then((t=>{this.recommmentCount=t.data,console.log("fnGetCnt() : "+this.recommmentCount)})).catch((t=>{t.message.indexOf("Network Error")>-1&&alert("네트워크가 원활하지 않습니다.\n잠시 후 다시 시도해주세요.")}))}))},fnDelete(t){if(!confirm("정말 삭제하시겠습니까?"))return!1;{const e=t.id;this.$axios.delete(this.$commentUrl+"/user/deleteComment/"+e).then((()=>{alert("삭제되었습니다."),this.$emit("comment-submitted",t)})).catch((t=>{console.log(t)}))}},handleCommentSubmitted(t){console.log("new comment : "+JSON.stringify(t)),this.$emit("comment-submitted",t)}}};const dn=(0,q.Z)(ln,[["render",en],["__scopeId","data-v-06cbc3b2"]]);var cn=dn,mn={components:{CommentWrite:rn,ReComment:cn},data(){return{requestBody:this.$route.query,boardNo:this.$route.query.boardNo,commentNo:0,commentUserId:localStorage.getItem("user_id"),userNo:localStorage.getItem("user_no"),commentContent:"",commentCount:0,commentItems:[]}},mounted(){this.fnGetCount(),this.fnGetView()},methods:{fnGetCount(t){t&&(this.boardNo=t),this.$axios.get(this.$commentUrl+"/all/getCount/"+this.boardNo).then((t=>{this.commentCount=t.data})).catch((t=>{console.log(t)}))},fnGetView(t){t&&(this.boardNo=t,this.commentItems=[]),this.$axios.get(this.$commentUrl+"/all/getComment/"+this.boardNo).then((t=>{t.data.forEach((t=>{this.commentItems.push(t),this.commentItems.forEach((t=>{t.divType="comment-content"}))})),this.fnGetCount()})).catch((t=>{console.log(t)}))},handleCommentSubmitted(t){this.fnGetView(t.boardNo)},changeDiv(t,e,o){let n="";1===t?n="comment-modify":2===t?(n="comment-write"===this.commentItems[e].divType?"comment-content":"comment-write",o&&(this.commentNo=o.id)):n="comment-content",this.commentItems[e].divType=n},fnUpdate(t){this.commentNo=t.id,this.commentContent=t.commentContent;const e=this.$commentUrl+"/user/modifyComment/"+this.commentNo;this.$axios.put(e,{commentContent:this.commentContent},{Headers:{"Content-Type":"application/json"}}).then((()=>{alert("댓글이 수정되었습니다."),this.fnGetView(this.boardNo)})).catch((t=>{t.message.indexOf("Network Error")>-1&&alert("네트워크가 원활하지 않습니다.\n잠시 후 다시 시도해주세요.")}))},fnDelete(t){if(!confirm("삭제하시겠습니까?"))return!1;{const e=t.id;this.$axios.delete(this.$commentUrl+"/user/deleteComment/"+e).then((()=>{alert("삭제되었습니다."),this.fnGetView(this.boardNo)})).catch((t=>{console.log(t)}))}},formatRegDate(t){if(!t)return"";const e=t.split(" ")[0];return e}}};const un=(0,q.Z)(mn,[["render",qo],["__scopeId","data-v-60965a1e"]]);var hn=un;const gn={class:"board-container"},pn=(0,y._)("div",{class:"seperator"},null,-1),bn={class:"tag-container"},fn={class:"editor-container"},wn={class:"editor-page"},_n={class:"board-btn"};function vn(t,e,o,a,s,i){const r=(0,y.up)("TagInput"),l=(0,y.up)("Editor");return(0,y.wg)(),(0,y.iD)("div",gn,[(0,y.wy)((0,y._)("textarea",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.boardTitle=t),placeholder:"제목을 입력하세요",class:"board-title"},null,512),[[n.nr,s.boardTitle]]),pn,(0,y._)("div",bn,[(0,y.Wm)(r,{tags:s.tagsFromChild,ref:"tagInputRef","onUpdate:tags":t.updateTag},null,8,["tags","onUpdate:tags"])]),(0,y._)("div",fn,[(0,y._)("div",wn,[(0,y.Wm)(l,{content:s.contentFromChild,parentFile:s.filesFromChild,parentBoardNo:this.boardNo,"onUpdate:content":i.onEditorChange,"onUpdate:file":i.onImageAdded},null,8,["content","parentFile","parentBoardNo","onUpdate:content","onUpdate:file"])])]),(0,y._)("div",_n,[(0,y._)("button",{type:"button",onClick:e[1]||(e[1]=(...t)=>i.fnList&&i.fnList(...t)),class:"btn btn-board-cancle"},"취소"),(0,y._)("button",{type:"button",onClick:e[2]||(e[2]=(...t)=>i.fnSave&&i.fnSave(...t)),class:"btn btn-board-save"},"저장하기")])])}const yn={class:"editor-page"};function In(t,e,o,n,a,s){const i=(0,y.up)("quill-editor");return(0,y.wg)(),(0,y.iD)("div",yn,[(0,y.Wm)(i,{value:a.state.editorContent,class:"editor",ref:"myTextEditor",modelValue:a.state.editorContent,"onUpdate:modelValue":e[0]||(e[0]=t=>a.state.editorContent=t),options:t.editorOption,onBlur:e[1]||(e[1]=t=>s.onEditorBlur(t)),onFocus:e[2]||(e[2]=t=>s.onEditorFocus(t)),onReady:e[3]||(e[3]=t=>s.onEditorReady(t)),"onUpdate:content":s.onEditorChange,onChange:s.onEditorChange,onImageAdded:s.onImageAdded,"onUpdate:file":s.onImageAdded},null,8,["value","modelValue","options","onUpdate:content","onChange","onImageAdded","onUpdate:file"])])}var Nn={name:"Editor",props:{content:String,parentFile:Object,parentBoardNo:Object},data(){return{state:{editorContent:this.content,content:"",file:[],boardNo:parseInt(this.parentBoardNo),_content:"",editorOption:{placeholder:"",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image"]]}},disabled:!1}}},mounted(){},methods:{onEditorBlur(t){console.log("editor blur!",t)},onEditorFocus(t){console.log("editor focus!",t)},onEditorReady(t){console.log("editor ready!",t),this.registerImageHandler(t)},onEditorChange({quill:t,html:e,text:o}){console.log("editor change!",t,e,o),this.state._content=e,this.state.content=e,this.state.editorContent=e,this.$emit("update:content",e)},registerImageHandler(t){const e=t;if(e){const o=e.getModule("toolbar");o&&o.addHandler("image",(()=>{const e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*"),e.click(),e.addEventListener("change",(()=>{const o=e.files[0];o&&this.onImageAdded(o,t)}))}))}else console.log("Quill editor not found.")},onImageAdded(t,e){const o=["jpg","jpeg","png","gif"],n=t.name,a=t.size,s=20971520,i=n.split(".").pop().toLowerCase();if(!o.includes(i))return void alert("이미지 파일만 첨부 가능합니다.");if(a>s)return void alert("업로드 가능한 최대 이미지 용량은 최대 20MB입니다.");const r=new FileReader;r.onload=o=>{const n=o.target.result;console.log("imageDataUrl : "+n);const a=e,s=a.getSelection();a.insertEmbed(s.index,"image",n),this.state.editorContent=a.root.innerHTML,this.state.file.push(t),this.$emit("update:file",t)},r.readAsDataURL(t)}},watch:{content(t){console.log("부모 컴포넌트 변경 ",t),this.state.editorContent=t,this.$emit("update:content",t)},"state.content"(t){console.log("자식 컴포넌트 변경 ",t),this.state.content=t,this.state.editorContent=this.state.content,this.$emit("update:content",t)}}};const Cn=(0,q.Z)(Nn,[["render",In]]);var kn=Cn;const Dn={class:"tags-input-container"},xn={class:"added-tag"},Un=["onClick"],Bn={class:"tag-input"};function $n(t,e,o,a,s,i){return(0,y.wg)(),(0,y.iD)("div",Dn,[(0,y._)("div",xn,[((0,y.wg)(!0),(0,y.iD)(y.HY,null,(0,y.Ko)(s.tags,((t,e)=>((0,y.wg)(),(0,y.iD)("div",{class:"tag",key:"tag"+e,onClick:t=>i.removeTag(e)},(0,nt.zw)(t),9,Un)))),128))]),(0,y._)("div",Bn,[(0,y.wy)((0,y._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.tagValue=t),placeholder:"태그를 입력하세요",onKeyup:e[1]||(e[1]=(0,n.D2)((t=>i.addTag(s.tagValue)),["enter"])),class:(0,nt.C_)({none:s.inputClasses[t.index]}),"onUpdate:tags":e[2]||(e[2]=t=>i.updateTag(s.tagValue))},null,34),[[n.nr,s.tagValue]])])])}var Tn={props:{tagsFromChild:{type:Array,default:()=>[]}},data(){return{editTagValue:this.tagsFromChild,tagValue:"",tags:[],inputClasses:[],v:""}},methods:{addTag(t){""!==this.tagValue?(this.tags.push(this.tagValue),this.$emit("tag-added",this.tagValue),this.tagValue=""):(this.tags.push(t),this.$emit("tag-added",t),this.tagValue="")},removeTag(t){this.$emit("tag-removed",t),this.tags.splice(t,1)},updateTag(t){this.editTagValue=t}}};const Sn=(0,q.Z)(Tn,[["render",$n],["__scopeId","data-v-398bfefc"]]);var Pn=Sn,Rn={imginHtmlChk(t){const e=new DOMParser,o=e.parseFromString(t,"text/html"),n=o.querySelectorAll("img");let a=[];return 0!==n.length&&(n.forEach((t=>{a.push(t.src)})),a)},updateBase64ToServerUrl(t,e,o){const n=new DOMParser,a=n.parseFromString(t,"text/html"),s=a.querySelectorAll("img");return s.forEach(((t,n)=>{const a=e[n],s=o[n];t.src=t.src.replace(a,s)})),a.documentElement.outerHTML},extractBase64FromImgSrc(t){const e=t.split(",")[1];return e}},qn={components:{Editor:kn,TagInput:Pn},data(){return{requestBody:this.$route.query,boardNo:this.$route.query.boardNo,boardUserId:"",userNo:localStorage.getItem("user_no"),boardTitle:"",content:"",contentFromChild:"",filesFromChild:[],tagsFromChild:[],regDate:"",tags:"",uploadData:[]}},mounted(){void 0!==this.boardNo&&this.fnGetView()},methods:{fnGetView(){void 0!==this.boardNo?this.$axios.get(this.$boardUrl+"/all/getBoard/"+this.boardNo).then((t=>{if(this.boardTitle=t.data.board.boardTitle,this.boardUserId=t.data.board.boardUserId,this.contentFromChild=t.data.board.boardContent,this.regDate=t.data.board.regDate,this.tags=t.data.tags,null!=this.tags)for(const e in this.tags)Object.hasOwnProperty.call(this.tags,e)&&(this.tagsFromChild=this.tags[e].tagName,this.$refs.tagInputRef.addTag(this.tagsFromChild))})).catch((t=>{console.log(t)})):this.$store.state.account&&(this.boardUserId=localStorage.getItem("user_id"))},fnList(){this.$router.push({path:"./detail",query:this.requestBody})},fnView(t){this.requestBody.boardNo=t,this.$router.push({name:"BoardDetail",query:this.requestBody})},onEditorChange(t){this.contentFromChild=t},onImageAdded(t){console.log("file : "+t),this.filesFromChild.push(t),this.filesFromChild.forEach((t=>{console.log("this.filesFromChild : "+t),console.log("file_type1 : "+typeof t)}))},fnSave(){const t=this.$boardUrl+"/admin/saveBoard",e=this.$refs.tagInputRef.tags;if(void 0===this.boardNo){let o={};o=this.filesFromChild.length>0?{boardNo:this.boardNo,userNo:this.userNo,boardTitle:this.boardTitle,tags:e}:{boardNo:this.boardNo,userNo:this.userNo,boardTitle:this.boardTitle,boardContent:this.contentFromChild,tags:e},console.log("전송 데이터:",o),this.$axios.post(t,o,{headers:{"Content-Type":"application/json"}}).then((t=>{this.boardNo=t.data,this.filesFromChild.length>0?(this.uploadData=new FormData,this.filesFromChild.forEach((t=>{this.uploadData.append("files",t)})),this.uploadData.append("boardNo",this.boardNo),this.$axios.post(this.$boardUrl+"/admin/uploadImg",this.uploadData,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{if(this.contentFromChild){const e=Rn.imginHtmlChk(this.contentFromChild);if(e){this.boardContent=Rn.updateBase64ToServerUrl(this.contentFromChild,e,t.data);let o=[];o=t.data;const n={boardContent:this.boardContent,imgPathList:o,boardNo:this.boardNo},a=this.$boardUrl+"/admin/saveImg";this.$axios.post(a,n,{headers:{"Content-Type":"application/json"}}).then((t=>{this.fnView(t.data.board.boardNo)})).catch((t=>{t.message.indexOf("Network Error")>-1?alert("네트워크가 원활하지 않습니다.\n잠시 후 다시 시도해주세요."):t.response&&500===t.response.status?alert("error"):t.response&&403===t.response.status&&alert("권한이 없습니다. 관리자에게 문의해주세요")}))}}})).catch((t=>{t.message.indexOf("Network Error")>-1?alert("네트워크가 원활하지 않습니다.\n잠시 후 다시 시도해주세요."):t.response&&500===t.response.status&&alert("error")}))):this.fnView(t.data),alert("글이 저장되었습니다.")})).catch((t=>{t.message.indexOf("Network Error")>-1&&alert("네트워크가 원활하지 않습니다.\n잠시 후 다시 시도해주세요.")}))}else{const o={boardNo:this.boardNo,boardTitle:this.boardTitle,boardContent:this.contentFromChild,tags:e};this.$axios.put(t,o,{headers:{"Content-Type":"application/json"}}).then((t=>{alert("글이 저장되었습니다."),this.fnView(t.data.boardNo)})).catch((t=>{t.message.indexOf("Network Error")>-1&&alert("네트워크가 원활하지 않습니다.\n잠시 후 다시 시도해주세요.")}))}}}};const Ln=(0,q.Z)(qn,[["render",vn]]);var On=Ln;const En=t=>((0,y.dD)("data-v-4ffc1ae0"),t=t(),(0,y.Cn)(),t),An={class:"board-detail"},Vn={class:"board-contents"},Fn={class:"board-information"},zn={class:"userId"},Gn=En((()=>(0,y._)("span",{class:"seperator1"},"·",-1))),jn={class:"regDate"},Hn={key:0,class:"common-buttons"},Mn={class:"tag-wrap"},Zn={class:"tagName"},Wn={class:"board-contents"},Yn=["innerHTML"],Kn={class:"user-profile"},Jn={class:"left"},Qn={class:"profile-pic",href:""},Xn=["src"],ta={class:"user-profile-detail"},ea={class:"profile-userId",href:"/"},oa={class:"intro"},na={class:"board-move"},aa={key:0,class:"previous-move"},sa=En((()=>(0,y._)("div",{class:"pre-arrow"},[(0,y._)("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},[(0,y._)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})])],-1))),ia={class:"pre-board"},ra=En((()=>(0,y._)("div",{class:"description pre"},"이전 포스트",-1))),la={key:1,class:"next-move"},da=En((()=>(0,y._)("div",{class:"next-arrow"},[(0,y._)("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},[(0,y._)("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})])],-1))),ca={class:"next-board"},ma=En((()=>(0,y._)("div",{class:"description next"},"다음 포스트",-1)));function ua(t,e,o,n,a,s){const i=(0,y.up)("Comment");return(0,y.wg)(),(0,y.iD)("div",An,[(0,y._)("div",Vn,[(0,y._)("h1",null,(0,nt.zw)(a.state.boardItems.boardTitle),1),(0,y._)("div",Fn,[(0,y._)("span",zn,(0,nt.zw)(a.state.boardItems.name),1),Gn,(0,y._)("span",jn,(0,nt.zw)(s.formatRegDate(a.state.boardItems.regDate)),1)]),"ROLE_ADMIN"===this.$store.state.account.userRole?((0,y.wg)(),(0,y.iD)("div",Hn,[a.state.boardItems.boardUserId===this.$store.state.account.userId?((0,y.wg)(),(0,y.iD)("button",{key:0,type:"button",onClick:e[0]||(e[0]=(...t)=>s.fnUpdate&&s.fnUpdate(...t))},"수정")):(0,y.kq)("",!0),a.state.boardItems.boardUserId===this.$store.state.account.userId?((0,y.wg)(),(0,y.iD)("button",{key:1,type:"button",onClick:e[1]||(e[1]=(...t)=>s.fnDelete&&s.fnDelete(...t))},"삭제")):(0,y.kq)("",!0),(0,y._)("button",{type:"button",onClick:e[2]||(e[2]=(...t)=>s.fnList&&s.fnList(...t))},"목록")])):(0,y.kq)("",!0),(0,y._)("div",Mn,[((0,y.wg)(!0),(0,y.iD)(y.HY,null,(0,y.Ko)(a.state.boardItems.tags,(t=>((0,y.wg)(),(0,y.iD)("div",{class:"tag-name",key:t.tagNo},[(0,y._)("span",Zn,(0,nt.zw)(t.tagName),1)])))),128))])]),(0,y._)("div",Wn,[(0,y._)("span",{innerHTML:a.state.boardItems.boardContent},null,8,Yn)]),(0,y._)("div",Kn,[(0,y._)("div",Jn,[(0,y._)("a",Qn,[(0,y._)("img",{src:this.state.boardItems.userProfile,alt:"profile"},null,8,Xn)]),(0,y._)("div",ta,[(0,y._)("a",ea,(0,nt.zw)(a.state.boardItems.name),1),(0,y._)("div",oa,(0,nt.zw)(a.state.boardItems.intro),1)])])]),(0,y._)("div",na,["N"==a.minYn?((0,y.wg)(),(0,y.iD)("div",aa,[(0,y._)("a",{class:"pre-move-link",onClick:e[3]||(e[3]=t=>s.fnView(`${a.state.preBoardItems.boardNo}`))},[sa,(0,y._)("div",ia,[ra,(0,y._)("h3",null,(0,nt.zw)(a.state.preBoardItems.boardNo),1),(0,y._)("h3",null,(0,nt.zw)(a.state.preBoardItems.boardTitle),1)])])])):(0,y.kq)("",!0),"N"==a.maxYn?((0,y.wg)(),(0,y.iD)("div",la,[(0,y._)("a",{class:"next-move-link",onClick:e[4]||(e[4]=t=>s.fnView(`${a.state.nextBoardItems.boardNo}`))},[da,(0,y._)("div",ca,[ma,(0,y._)("h3",null,(0,nt.zw)(a.state.nextBoardItems.boardNo),1),(0,y._)("h3",null,(0,nt.zw)(a.state.nextBoardItems.boardTitle),1)])])])):(0,y.kq)("",!0)]),(0,y.Wm)(i,{parentBoardNo:this.boardNo,ref:"commentListRef"},null,8,["parentBoardNo"])])}var ha={components:{Comment:hn},data(){return{state:{boardItems:[],preBoardItems:[],nextBoardItems:[]},requestBody:this.$route.query,boardNo:this.$route.query.boardNo,maxBoardNo:0,minBoardNo:0,minYn:"N",maxYn:"N"}},mounted(){"undefined"!=this.boardNo&&(this.fnGetView(),this.fnGetMaxNo("max",this.boardNo),this.fnGetMaxNo("min",this.boardNo),this.fnGetBoardDirection(this.boardNo,"pre"),this.fnGetBoardDirection(this.boardNo,"next"))},methods:{fnGetView(t){t&&(this.boardNo=t,this.requestBody.boardNo=t),this.$axios.get(this.$boardUrl+"/all/getBoard/"+this.requestBody.boardNo).then((t=>{this.state.boardItems.boardTitle=t.data.board.boardTitle,this.state.boardItems.boardUserId=t.data.board.user.userId,this.state.boardItems.boardContent=t.data.board.boardContent,this.state.boardItems.imgPath=t.data.board.imgPath,this.state.boardItems.updDate=t.data.board.updDate,this.state.boardItems.regDate=t.data.board.regDate,this.state.boardItems.tags=t.data.tags,this.state.boardItems.imgs=t.data.imgs.imgPath,this.state.boardItems.intro=t.data.board.user.introduction,this.state.boardItems.name=t.data.board.user.name,this.state.boardItems.userProfile=t.data.board.user.imgPath})).catch((t=>{t.message.indexOf("Network Error")>-1&&alert("네트워크가 원활하지 않습니다.\n잠시 후 다시 시도해주세요.")}))},fnList(){delete this.requestBody.boardNo,this.$router.push({path:"/",query:this.requestBody})},fnUpdate(){console.log("requestBody : "+JSON.stringify(this.requestBody,null,2)),console.log("requestBody : "+this.boardNo),this.$router.push({name:"BoardWrite",query:this.requestBody})},fnDelete(){if(!confirm("삭제하시겠습니까?"))return;const t=this.$boardUrl+"/admin/delete/";this.$axios.delete(t+this.boardNo).then((()=>{alert("삭제되었습니다."),this.fnList()})).catch((t=>{console.log(t)}))},fnView(t){this.boardNo=t,this.requestBody.boardNo=t,this.$router.push({name:"BoardDetail",query:this.requestBody}),this.$refs.commentListRef.fnGetCount(t),this.$refs.commentListRef.fnGetView(t),this.fnGetView(t),this.fnGetMaxNo("max",t),this.fnGetMaxNo("min",t),this.fnGetBoardDirection(t,"pre"),this.fnGetBoardDirection(t,"next")},formatRegDate(t){if(!t)return"";const e=t.split("T")[0];return e},fnGetBoardDirection(t,e){"pre"==e?this.$axios.get(this.$boardUrl+"/all/getPreBoard/"+t).then((t=>{this.state.preBoardItems.boardNo=t.data.preBoardNo,this.state.preBoardItems.boardTitle=t.data.boardTitle})).catch((t=>{t.message.indexOf("Network Error")>-1&&alert("네트워크가 원활하지 않습니다.\n잠시 후 다시 시도해주세요.")})):this.$axios.get(this.$boardUrl+"/all/getNextBoard/"+t).then((t=>{this.state.nextBoardItems.boardNo=t.data.nextBoardNo,this.state.nextBoardItems.boardTitle=t.data.boardTitle})).catch((t=>{t.message.indexOf("Network Error")>-1&&alert("네트워크가 원활하지 않습니다.\n잠시 후 다시 시도해주세요.")}))},fnGetMaxNo(t,e){this.boardNo=e,"max"===t?this.$axios.get(this.$boardUrl+"/all/maxBoardNo").then((t=>{this.maxBoardNo=t.data,this.boardNo==this.maxBoardNo?(this.maxYn="Y",console.log("this.maxYn : "+this.maxYn)):(this.maxYn="N",console.log("this.boardNo : this.maxBoardNo"+this.boardNo+":"+this.maxBoardNo),console.log("this.boardNo : "+this.boardNo))})).catch((t=>{t.message.indexOf("Network Error")>-1&&alert("네트워크가 원활하지 않습니다.\n잠시 후 다시 시도해주세요.")})):this.$axios.get(this.$boardUrl+"/all/minBoardNo").then((t=>{this.minBoardNo=t.data,this.boardNo==this.minBoardNo?(this.minYn="Y",console.log("this.minYn : "+this.minYn)):(this.minYn="N",console.log("this.boardNo : this.minBoardNo"+this.boardNo+":"+this.minBoardNo),console.log("this.boardNo : "+this.boardNo))})).catch((t=>{t.message.indexOf("Network Error")>-1&&alert("네트워크가 원활하지 않습니다.\n잠시 후 다시 시도해주세요.")}))}}};const ga=(0,q.Z)(ha,[["render",ua],["__scopeId","data-v-4ffc1ae0"]]);var pa=ga;const ba={class:"btn-container"},fa={key:1};function wa(t,e,o,n,a,s){return(0,y.wg)(),(0,y.iD)("div",ba,[t.$store.state.account.isLogin?((0,y.wg)(),(0,y.iD)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>n.btn&&n.btn(...t)),class:"btn"},"login된 id : "+(0,nt.zw)(n.loginId),1)):((0,y.wg)(),(0,y.iD)("a",fa,"token이 존재하지 않습니다."))])}var _a={setup(){const t=(0,P.iH)(""),e=()=>{d.Z.post("/api/admin/test").then((e=>{console.log("res : "+e.data),t.value=e.data})).catch((()=>{window.alert("로그인 정보가 존재하지 않습니다.")}))};return{btn:e,store:_,loginId:t}}};const va=(0,q.Z)(_a,[["render",wa]]);var ya=va;const Ia=t=>((0,y.dD)("data-v-514a8c96"),t=t(),(0,y.Cn)(),t),Na={class:"form-signin w-100 m-auto"},Ca=Ia((()=>(0,y._)("h1",{class:"h3 mb-3 fw-normal"},"패스워드를 입력해주세요",-1))),ka={class:"form-floating"},Da=Ia((()=>(0,y._)("label",{for:"userId"},"Id",-1))),xa={class:"form-floating"},Ua=Ia((()=>(0,y._)("label",{for:"userPw"},"Password",-1))),Ba=Ia((()=>(0,y._)("button",{type:"submit",class:"btn btn-danger w-100 py-2"},"회원탈퇴",-1)));function $a(t,e,o,a,s,i){return(0,y.wg)(),(0,y.iD)("main",Na,[(0,y._)("form",{onSubmit:e[2]||(e[2]=(0,n.iM)(((...t)=>i.submit&&i.submit(...t)),["prevent"]))},[Ca,(0,y._)("div",ka,[(0,y.wy)((0,y._)("input",{type:"text",class:"form-control",id:"userId","onUpdate:modelValue":e[0]||(e[0]=t=>s.userId=t)},null,512),[[n.nr,s.userId]]),Da]),(0,y._)("div",xa,[(0,y.wy)((0,y._)("input",{type:"password",class:"form-control",id:"userPw","onUpdate:modelValue":e[1]||(e[1]=t=>s.userPw=t)},null,512),[[n.nr,s.userPw]]),Ua]),Ba],32)])}var Ta={data(){return{userId:localStorage.getItem("user_id"),userPw:""}},mounted(){console.log("this.$store.state.account : "+JSON.stringify(this.$store.state.account))},methods:{...(0,a.nv)(["signout"]),async submit(){if(!this.userPw)return void alert("비밀번호를 입력해주세요.");const t=parseInt(localStorage.getItem("user_no")),e="/api/user/deleteUser";this.$axios.delete(e,{data:{userNo:t,userPw:this.userPw},headers:{"Content-Type":"application/json"}}).then((()=>{this.$store.commit("clearAccount",{isLogin:!1,userId:"",userRole:"",userAccessToken:"",userRefreshToken:""}),localStorage.clear(),this.$router.push({name:"Home"})})).catch((t=>{console.log("err : "+t),t.message.indexOf("Network Error")>-1?alert("네트워크가 원활하지 않습니다.\n잠시 후 다시 시도해주세요."):t.response&&500===t.response.status&&alert("비밀번호가 일치하지 않습니다.")}))}}};const Sa=(0,q.Z)(Ta,[["render",$a],["__scopeId","data-v-514a8c96"]]);var Pa=Sa;const Ra=()=>(t,e,o)=>{if(!0===_.state.account.isLogin)return o();o("/login")},qa=[{path:"/",name:"Home",component:ho},{path:"/login",name:"Login",component:O},{path:"/join",name:"Join",component:ot},{path:"/UserSetting",name:"UserSetting",component:It},{path:"/AdminSetting",name:"AdminSetting",component:Yt},{path:"/signOut",name:"SignOut",component:Pa},{path:"/comment",name:"Comment",component:hn},{path:"/introduce",name:"Introducing",component:oo},{path:"/board",name:"Board",component:Ae},{path:"/board/write",name:"BoardWrite",component:On},{path:"/board/detail/",name:"BoardDetail",component:pa},{path:"/board/test",name:"Test",component:ya,beforeEnter:Ra()}],La=(0,v.p7)({mode:"history",history:(0,v.r5)(),routes:qa});var Oa=La;function Ea(t,e,o,n,a,s){const i=(0,y.up)("PageHeader"),r=(0,y.up)("RouterView");return(0,y.wg)(),(0,y.iD)("div",null,[(0,y.Wm)(i),(0,y.Wm)(r)])}const Aa=t=>((0,y.dD)("data-v-2cbaa42c"),t=t(),(0,y.Cn)(),t),Va={class:"navbar navbar-dark bg-dark shadow-sm"},Fa={class:"container d-flex justify-content-between align-items-center position-relative"},za={href:"#",class:"navbar-brand d-flex align-items-center"},Ga=Aa((()=>(0,y._)("img",{src:"/img/ho.svg",alt:"",height:"30"},null,-1))),ja={key:0},Ha={key:1},Ma=Aa((()=>(0,y._)("span",{class:"navbar-toggler-icon"},null,-1))),Za=[Ma],Wa={class:"menu-container"};function Ya(t,e,o,n,a,s){const i=(0,y.up)("router-link");return(0,y.wg)(),(0,y.iD)("header",null,[(0,y._)("div",Va,[(0,y._)("div",Fa,[(0,y._)("a",za,[Ga,s.isUserSettingRoute||s.isAdminSettingRoute?((0,y.wg)(),(0,y.iD)("strong",ja,"blog")):((0,y.wg)(),(0,y.iD)("strong",Ha,(0,nt.zw)(this.input.blogName),1))]),s.isLogin&&"ROLE_ADMIN"===this.$store.state.account.userRole?((0,y.wg)(),(0,y.j4)(i,{key:0,to:"/board/write",class:"btn btn-light rounded-pill px-3"},{default:(0,y.w5)((()=>[(0,y.Uk)("새글작성")])),_:1})):(0,y.kq)("",!0),(0,y._)("button",{class:"navbar-toggler",onClick:e[0]||(e[0]=(...t)=>s.toggleMenu&&s.toggleMenu(...t))},Za)])]),(0,y._)("div",{class:(0,nt.C_)(["collapsible-menu",{collapsed:a.isCollapsed}])},[(0,y._)("div",Wa,[(0,y._)("ul",null,[(0,y._)("li",null,[(0,y._)("a",{onClick:e[1]||(e[1]=t=>s.goToPages("Home"))},"내 블로그")]),(0,y._)("li",null,[s.isLogin?((0,y.wg)(),(0,y.iD)("a",{key:0,onClick:e[2]||(e[2]=t=>s.goToPages("Setting")),class:"text-white"},"설정")):(0,y.kq)("",!0)]),(0,y._)("li",null,[s.isLogin?((0,y.wg)(),(0,y.iD)("a",{key:1,onClick:e[4]||(e[4]=(...t)=>s.logout&&s.logout(...t)),class:"text-white"},"로그아웃")):((0,y.wg)(),(0,y.iD)("a",{key:0,onClick:e[3]||(e[3]=(...t)=>s.login&&s.login(...t)),class:"text-white"},"로그인"))])])])],2)])}var Ka={name:"PageHeader",data(){return{isCollapsed:!1,input:{introduction:"",blogName:"",imgPath:"",name:""},userRole:localStorage.getItem("user_role")}},computed:{isLogin(){return this.$store.state.account.isLogin},isUserSettingRoute(){return"UserSetting"===this.$route.name},isAdminSettingRoute(){return"AdminSetting"===this.$route.name}},mounted(){this.fnGetUserInfo()},methods:{toggleMenu(){this.isCollapsed=!this.isCollapsed},login(){Oa.push("/login")},logout(){localStorage.clear(),_.commit("setAccount",{isLogin:!1}),window.alert("로그아웃 되었습니다."),this.goToPages("Home")},goToPages(t){"Home"===t?Oa.push({name:"Home"}):"ROLE_ADMIN"===this.$store.state.account.userRole?Oa.push({name:"AdminSetting"}):Oa.push({name:"UserSetting"}),this.isCollapsed=!1},fnGetUserInfo(){const t="/api/all/getAdminSetInfo/24";this.$axios.get(t).then((t=>{this.input.name=t.data.name,this.input.introduction=t.data.introduction,this.input.blogName=t.data.blogName,this.input.imgPath=t.data.imgPath})).catch((t=>{t.message.indexOf("Network Error")>-1&&alert("네트워크가 원활하지 않습니다.\n잠시 후 다시 시도해주세요.")}))}}};const Ja=(0,q.Z)(Ka,[["render",Ya],["__scopeId","data-v-2cbaa42c"]]);var Qa=Ja,Xa={name:"App",components:{PageHeader:Qa},mounted(){window.onload=()=>{const t=localStorage.getItem("user_refresh_token");t&&this.requestNewAccessToken(t)},this.route=(0,v.yj)(),(0,y.YP)(this.route,(()=>{this.check()}))},methods:{check(){console.log("check()");const t=localStorage.getItem("user_access_token");if(t){console.log("accessToken : "+t);const e=localStorage.getItem("user_id"),o=localStorage.getItem("user_role"),n=localStorage.getItem("user_access_token"),a=localStorage.getItem("user_refresh_token");_.commit("setAccount",{isLogin:!0,userId:e,userRole:o,userAccessToken:n,userRefreshToken:a}),console.log("account : "+JSON.stringify(this.$store.state.account))}},requestNewAccessToken(t){const e={refreshToken:t};this.$axios.post("/api/all/refreshAccessToken",e,{headers:{"Content-type":"application/json"}}).then((t=>{const e=t.data.accessToken;localStorage.setItem("user_access_token",e)})).catch((t=>{console.log(t)}))}}};const ts=(0,q.Z)(Xa,[["render",Ea]]);var es=ts;d.Z.interceptors.request.use((function(t){const e=localStorage.getItem("user_access_token");return t.headers.Authorization="Bearer "+e,t})),d.Z.interceptors.response.use((function(t){return t}));var os=d.Z,ns=o(5537);const as=(0,n.ri)(es);as.config.globalProperties.$axios=os,as.config.globalProperties.$route=Oa,as.config.globalProperties.$store=_,as.config.globalProperties.$serverUrl="localhost:3000",as.config.globalProperties.$boardUrl="/api/board",as.config.globalProperties.$tagUrl="/api/tag",as.config.globalProperties.$commentUrl="/api/comment",as.use(_).use(Oa).use(ns.HL).mount("#app")}},e={};function o(n){var a=e[n];if(void 0!==a)return a.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,o),s.exports}o.m=t,function(){var t=[];o.O=function(e,n,a,s){if(!n){var i=1/0;for(c=0;c<t.length;c++){n=t[c][0],a=t[c][1],s=t[c][2];for(var r=!0,l=0;l<n.length;l++)(!1&s||i>=s)&&Object.keys(o.O).every((function(t){return o.O[t](n[l])}))?n.splice(l--,1):(r=!1,s<i&&(i=s));if(r){t.splice(c--,1);var d=a();void 0!==d&&(e=d)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[n,a,s]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var a,s,i=n[0],r=n[1],l=n[2],d=0;if(i.some((function(e){return 0!==t[e]}))){for(a in r)o.o(r,a)&&(o.m[a]=r[a]);if(l)var c=l(o)}for(e&&e(n);d<i.length;d++)s=i[d],o.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return o.O(c)},n=self["webpackChunkmlog_project"]=self["webpackChunkmlog_project"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(580)}));n=o.O(n)})();
//# sourceMappingURL=app.eb7dd036.js.map